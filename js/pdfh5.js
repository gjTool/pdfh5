!function(t,e){var i="1.2.20",n="2.1.266";console.log("The latest version and API of pdfh5 from: https://www.gjtool.cn  (pdf.js: "+n+" , pdfh5.js: "+i+")"),"undefined"!=typeof require&&(void 0===t.$&&(t.$=require("./jquery-1.11.3.min.js")),t.pdfjsWorker=require("./pdf.worker.js"),t.pdfjsLib=require("./pdf.js"));var a=t.pdfjsLib,o=t.$,s=t.pdfjsWorker;"function"==typeof define&&define.amd?define(function(){return e(t,s,a,o,i)}):"undefined"!=typeof module&&module.exports?module.exports=e(t,s,a,o,i):t.Pdfh5=e(t,s,a,o,i)}("undefined"!=typeof window?window:this,function(t,e,i,n,a){"use strict";var o=function(e){var i=function(t,i,n){this.el=e(t),this.viewerContainer=n,this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=e.extend({},this.defaults,i),this.options.tapZoomFactor=isNaN(i.tapZoomFactor)?2:i.tapZoomFactor,this.options.zoomOutFactor=isNaN(i.zoomOutFactor)?1.2:i.zoomOutFactor,this.options.animationDuration=isNaN(i.animationDuration)?300:i.animationDuration,this.options.maxZoom=isNaN(i.maxZoom)?4:i.maxZoom,this.options.minZoom=isNaN(i.minZoom)?.8:i.minZoom,this.setupMarkup(),this.bindEvents(),this.update(),this.enable(),this.height=0,this.load=!1,this.direction=null,this.clientY=null,this.lastclientY=null},n=function(t,e){return t+e},a=function(t,e){return t>e-.01&&t<e+.01};i.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.2,animationDuration:300,maxZoom:4,minZoom:.8,lockDragAxis:!1,use2d:!0,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(t){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){if(this.zoomFactor>1){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition,t),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(t){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var i=this.getTouchCenter(this.getTouches(t)),n=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(n,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],i=this.zoomFactor>1?1:this.options.tapZoomFactor,n=this.zoomFactor,a=function(t){this.scaleTo(n+t*(i-n),e)}.bind(this);this.hasInteraction||(n>i&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,a,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(t){var e=(this.zoomFactor-1)*this.getContainerX(),i=(this.zoomFactor-1)*this.getContainerY(),n=Math.max(e,0),a=Math.max(i,0),o=Math.min(e,0),s=Math.min(i,0),r=Math.min(Math.max(t.x,o),n),h=Math.min(Math.max(t.y,s),a);return{x:r,y:h}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)})},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},drag:function(t,e,i){e&&(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?this.addOffset({x:-(t.x-e.x),y:0}):this.addOffset({y:-(t.y-e.y),x:0}):(t.y-e.y<0?this.direction="down":t.y-e.y>10&&(this.direction="up"),this.addOffset({y:-(t.y-e.y),x:-(t.x-e.x)})))},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(n)/t.length,y:t.map(function(t){return t.y}).reduce(n)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},i=function(i){this.offset.x=e.x+i*(t.x-e.x),this.offset.y=e.y+i*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,i,this.swing)},zoomOutAnimation:function(){var t=this.zoomFactor,e=1,i=this.getCurrentZoomCenter(),n=function(n){this.scaleTo(t+n*(e-t),i)}.bind(this);this.animate(this.options.animationDuration,n,this.swing)},updateAspectRatio:function(){this.setContainerY(this.getContainerX()/this.getAspectRatio())},getInitialZoomFactor:function(){return this.container[0]&&this.el[0]?this.container[0].offsetWidth/this.el[0].offsetWidth:0},getAspectRatio:function(){if(this.el[0]){var t=this.el[0].offsetHeight;return this.container[0].offsetWidth/t}return 0},getCurrentZoomCenter:function(){var t=this.container[0].offsetWidth*this.zoomFactor,e=this.offset.x,i=t-e-this.container[0].offsetWidth,n=e/i,a=n*this.container[0].offsetWidth/(n+1),o=this.container[0].offsetHeight*this.zoomFactor,s=this.offset.y,r=o-s-this.container[0].offsetHeight,h=s/r,c=h*this.container[0].offsetHeight/(h+1);return 0===i&&(a=this.container[0].offsetWidth),0===r&&(c=this.container[0].offsetHeight),{x:a,y:c}},canDrag:function(){return!a(this.zoomFactor,1)},getTouches:function(t){var e=this.container.offset();return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e.left,y:t.pageY-e.top}})},animate:function(t,e,i,n){var a=(new Date).getTime(),o=function(){if(this.inAnimation){var s=(new Date).getTime()-a,r=s/t;s>=t?(e(1),n&&n(),this.update(),this.stopAnimation(),this.update()):(i&&(r=i(r)),e(r),this.update(),requestAnimationFrame(o))}}.bind(this);this.inAnimation=!0,requestAnimationFrame(o)},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return this.el[0]?this.el[0].offsetWidth:0},getContainerY:function(){return this.el[0].offsetHeight},setContainerY:function(t){return t=t.toFixed(2),this.container.height(t)},setupMarkup:function(){this.container=e('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"relative"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){o(this.container.eq(0),this,this.viewerContainer),e(t).on("resize",this.update.bind(this)),e(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var t=this.getInitialZoomFactor()*this.zoomFactor,e=(-this.offset.x/t).toFixed(3),i=(-this.offset.y/t).toFixed(3);this.lastclientY=i;var n="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+i+"px,0px)",a="scale("+t+", "+t+") translate("+e+"px,"+i+"px)";(function(){this.clone&&(this.clone.remove(),delete this.clone)}).bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,this.el.css({"-webkit-transform":n,"-o-transform":a,"-ms-transform":a,"-moz-transform":a,transform:n})):(this.el.css({"-webkit-transform":a,"-o-transform":a,"-ms-transform":a,"-moz-transform":a,transform:a}),this.is3d=!1),this.done&&this.done.call(this,t)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){var t=this.el.clone(),e=this.container.parent();this.container.remove(),t.removeAttr("style"),e.append(t)}};var o=function(t,e,i){var n=null,a=0,o=null,s=null,r=null,h=null,c=0,l=0,d=function(t,i){if(n!==t){if(n&&!t)switch(n){case"zoom":e.handleZoomEnd(i);break;case"drag":e.handleDragEnd(i)}switch(t){case"zoom":e.handleZoomStart(i);break;case"drag":e.handleDragStart(i)}}n=t},f=function(t){2===a?d("zoom"):1===a&&e.canDrag()?d("drag",t):d(null,t)},u=function(t){return Array.prototype.slice.call(t).map(function(t){return{x:t.pageX,y:t.pageY}})},m=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(i*i+n*n)},p=function(t,e){var i=m(t[0],t[1]),n=m(e[0],e[1]);return n/i},g=function(t){t.stopPropagation(),t.preventDefault()},v=function(t){var i=(new Date).getTime(),s=t.changedTouches[0].pageY,h=w.scrollTop||0;if(a>1&&(o=null,r=null,g(t)),i-o<300&&Math.abs(s-r)<10&&Math.abs(l-h)<10)switch(g(t),e.handleDoubleTap(t),n){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t)}1===a&&(o=i,r=s,l=h)},y=!0;if(i)var w=i[0];w&&(w.addEventListener("touchstart",function(t){e.enabled&&(y=!0,a=t.touches.length,v(t),h=t.changedTouches[0].clientY,a>1&&g(t))}),w.addEventListener("touchmove",function(t){if(e.enabled){if(c=t.changedTouches[0].clientY,y)f(t),s=u(t.touches);else{switch(n){case"zoom":e.handleZoom(t,p(s,u(t.touches)));break;case"drag":e.handleDrag(t)}n&&e.update(c)}a>1&&g(t),y=!1}}),w.addEventListener("touchend",function(t){e.enabled&&(a=t.touches.length,a>1&&g(t),f(t))}))};return i},s=o(n),r=function(t,e){this.version=a,this.container=n(t),this.thePDF=null,this.totalNum=null,this.pages=null,this.initTime=0,this.scale=1.3,this.currentNum=1,this.loadedCount=0,this.endTime=0,this.pinchZoom=null,this.timer=null,this.docWidth=document.documentElement.clientWidth,this.winWidth=n(window).width(),this.eventType={},this.cache={},this.cacheNum=1,this.options=e,this.resizeEvent=!1,this.init(e)};return r.prototype={init:function(e){function i(e){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=t.location.search.substr(1).match(i);return null!=n?decodeURIComponent(n[2]):""}this.container[0].pdfLoaded&&this.destroy(),this.container[0].pdfLoaded=!1,this.container.addClass("pdfjs");var a=this;this.initTime=(new Date).getTime(),setTimeout(function(){var t=a.eventType.scroll;if(t&&t instanceof Array)for(var e=0;e<t.length;e++)t[e]&&t[e].call(a,a.initTime)},0),e=e?e:{},e.pdfurl=e.pdfurl?e.pdfurl:null,e.data=e.data?e.data:null,e.scale=e.scale?e.scale:a.scale,e.zoomEnable=e.zoomEnable!==!1,e.scrollEnable=e.scrollEnable!==!1,e.loadingBar=e.loadingBar!==!1,e.pageNum=e.pageNum!==!1,e.backTop=e.backTop!==!1,e.URIenable=e.URIenable!==!1,e.fullscreen=e.fullscreen!==!1,e.lazy=e.lazy===!0,e.renderType="canvas"===e.renderType?"canvas":"svg",e.resize=e.resize!==!1,"canvas"===e.renderType&&(e.scale=2),e.type="ajax"===e.type?"ajax":"fetch";var o='<div class="loadingBar"><div class="progress"> <div class="glimmer"></div> </div></div><div class="pageNum"><div class="pageNum-bg"></div> <div class="pageNum-num"> <span class="pageNow">1</span>/<span class="pageTotal">1</span></div> </div><div class="backTop"></div><div class="loadEffect loading"></div>';this.container.find(".pageNum")[0]||this.container.append(o);var s=document.createElement("div");s.className="pdfViewer";var r=document.createElement("div");r.className="viewerContainer",r.appendChild(s),this.container.append(r),this.viewer=n(s),this.viewerContainer=n(r),this.pageNum=this.container.find(".pageNum"),this.pageNow=this.pageNum.find(".pageNow"),this.pageTotal=this.pageNum.find(".pageTotal"),this.loadingBar=this.container.find(".loadingBar"),this.progress=this.loadingBar.find(".progress"),this.progressDom=this.progress[0],this.backTop=this.container.find(".backTop"),this.loading=this.container.find(".loading"),e.loadingBar||this.loadingBar.hide();var h=this.container.height(),c=h*(1/3);e.scrollEnable?this.viewerContainer.css({overflow:"auto"}):this.viewerContainer.css({overflow:"hidden"}),r.addEventListener("scroll",function(){var t=r.scrollTop;t>=150?e.backTop&&a.backTop.show():e.backTop&&a.backTop.fadeOut(200),a.viewerContainer&&(a.pages=a.viewerContainer.find(".pageContainer")),clearTimeout(a.timer),e.pageNum&&a.pageNum&&a.pageNum.show();var i=h;if(a.pages&&a.pages.each(function(t,n){var o=n.getBoundingClientRect().top,s=n.getBoundingClientRect().bottom;o<=c&&s>c&&(e.pageNum&&a.pageNow.text(t+1),a.currentNum=t+1),o<=i&&s>i&&(a.cacheNum=t+1)}),t+a.container.height()>=a.viewer[0].offsetHeight&&a.pageNow.text(a.totalNum),0===t&&a.pageNow.text(1),a.timer=setTimeout(function(){e.pageNum&&a.pageNum&&a.pageNum.fadeOut(200)},1500),e.lazy){var n=Math.floor(100/a.totalNum).toFixed(2);if(!a.cache[a.cacheNum+""].loaded){var o=a.cache[a.cacheNum+""].page,s=a.cache[a.cacheNum+""].container,l=a.cacheNum;a.cache[l+""].loaded=!0;var d=a.cache[l+""].scaledViewport;"svg"===e.renderType?a.renderSvg(o,d,l,n,s,e):a.renderCanvas(o,d,l,n,s,e)}if(a.cache[a.totalNum-1+""].loaded&&!a.cache[a.totalNum+""].loaded){var o=a.cache[a.totalNum+""].page,s=a.cache[a.totalNum+""].container,l=a.totalNum;a.cache[l+""].loaded=!0;var d=a.cache[l+""].scaledViewport;"svg"===e.renderType?a.renderSvg(o,d,l,n,s,e):a.renderCanvas(o,d,l,n,s,e)}}var f=a.eventType.scroll;if(f&&f instanceof Array)for(var u=0;u<f.length;u++)f[u]&&f[u].call(a,t)}),this.backTop.on("click tap",function(){var t=a.viewer.css("transform"),e=t.replace(/[a-z\(\)\s]/g,"").split(","),i=e[0],n=e[3],o=e[4]/2,s=a.viewer[0].getBoundingClientRect().left;s<=2*-a.docWidth&&(o=-a.docWidth/2),a.viewer.css({transform:"scale("+i+", "+n+") translate("+o+"px, 0px)"}),a.pinchZoom&&(a.pinchZoom.offset.y=0,a.pinchZoom.lastclientY=0),a.viewerContainer.animate({scrollTop:0},300);var r=a.eventType.backTop;if(r&&r instanceof Array)for(var h=0;h<r.length;h++)r[h]&&r[h].call(a)});var l=i("file"),d="";if(l&&e.URIenable?d=l:e.pdfurl&&(d=e.pdfurl),d)"ajax"===e.type?n.ajax({type:"get",mimeType:"text/plain; charset=x-user-defined",cache:!1,url:d,success:function(t){var i=t.length,n=[];for(m=0;m<i;m++)n.push(255&t.charCodeAt(m));a.renderPdf(e,{data:n})},error:function(t){a.loading.hide();var e=(new Date).getTime();a.endTime=e-a.initTime;var i=a.eventType.complete;if(i&&i instanceof Array)for(var n=0;n<i.length;n++)i[n]&&i[n].call(a,"error",t.statusText,a.endTime);var o=a.eventType.error;if(o&&o instanceof Array)for(var n=0;n<o.length;n++)o[n]&&o[n].call(a,t.statusText,a.endTime);throw Error(t.statusText)}}):a.renderPdf(e,{url:d});else{if(!e.data){var f=(new Date).getTime();a.endTime=f-a.initTime;var u=a.eventType.complete;if(u&&u instanceof Array)for(var m=0;m<u.length;m++)u[m]&&u[m].call(a,"error","Expect options.pdfurl or options.data!",a.endTime);var p=a.eventType.error;if(p&&p instanceof Array)for(var m=0;m<p.length;m++)p[m]&&p[m].call(a,"Expect options.pdfurl or options.data!",a.endTime);throw Error("Expect options.pdfurl or options.data!")}var g=e.data,v=g.length;if("string"==typeof g&&""!=g){var y=[];for(m=0;m<v;m++)y.push(255&g.charCodeAt(m));a.renderPdf(e,{data:y})}else if("object"==typeof g){if(0===g[0]){var f=(new Date).getTime();a.endTime=f-a.initTime;var u=a.eventType.complete;if(u&&u instanceof Array)for(var m=0;m<u.length;m++)u[m]&&u[m].call(a,"error","options.data is empty Array",a.endTime);var p=a.eventType.error;if(p&&p instanceof Array)for(var m=0;m<p.length;m++)p[m]&&p[m].call(a,"options.data is empty Array",a.endTime);throw Error("options.data is empty Array")}a.renderPdf(e,{data:g})}}},renderPdf:function(t,e){this.container[0].pdfLoaded=!0;var a=this;t.cMapUrl?e.cMapUrl=t.cMapUrl:e.cMapUrl="./js/cmaps/",e.cMapPacked=!0,a.loadingBar.show(),a.progress.css({width:"3%"}),i.getDocument(e).then(function(e){a.loading.hide(),a.thePDF=e,a.totalNum=e.numPages,a.pageTotal.text(a.totalNum);var i=a.eventType.ready;if(i&&i instanceof Array)for(var o=0;o<i.length;o++)i[o]&&i[o].call(a);a.pinchZoom=new s(a.viewer,{tapZoomFactor:t.tapZoomFactor,zoomOutFactor:t.zoomOutFactor,animationDuration:t.animationDuration,maxZoom:t.maxZoom,minZoom:t.minZoom},a.viewerContainer),a.pinchZoom.done=function(t){1==t?a.viewerContainer&&a.viewerContainer.css({"-webkit-overflow-scrolling":"touch"}):a.viewerContainer&&a.viewerContainer.css({"-webkit-overflow-scrolling":"auto"});var e=a.eventType.zoom;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(a,t)},t.zoomEnable?a.pinchZoom.enable():a.pinchZoom.disable();for(var r=Promise.resolve(),h=Math.floor(100/a.totalNum).toFixed(2),o=1;o<=a.totalNum;o++)a.cache[o+""]={page:null,loaded:!1,container:null,scaledViewport:null},r=r.then(function(e){return a.thePDF.getPage(e).then(function(i){a.cache[e+""].page=i;var o=i.getViewport(t.scale),s=(a.docWidth/o.width).toFixed(2),r=i.getViewport(parseFloat(s)),c=document.createElement("div");c.id="pageContainer"+e,c.className="pageContainer",c.setAttribute("name","page="+e),c.setAttribute("title","Page "+e);var l=document.createElement("div");l.className="loadEffect",c.appendChild(l),window.ActiveXObject||"ActiveXObject"in window?n(c).css({width:o.width+"px",height:o.height+"px"}).attr("data-scale",o.width/o.height):n(c).css({"max-width":o.width,"max-height":o.height,"min-height":o.width/(o.width/o.height)+"px"}).attr("data-scale",o.width/o.height),a.viewer[0].appendChild(c),a.cache[e+""].container=c,a.cache[e+""].scaledViewport=r;var d=0,f=a.container.height();if(a.pages=a.viewerContainer.find(".pageContainer"),t.resize&&a.resize(),a.pages&&t.lazy&&a.pages.each(function(t,e){var i=e.offsetTop;i<=f&&(d=t+1,a.cache[d+""].loaded=!0)}),!(e>d&&t.lazy))return"svg"===t.renderType?a.renderSvg(i,r,e,h,c,t,o):a.renderCanvas(i,r,e,h,c,t)})}.bind(null,o))}).catch(function(t){a.loading.hide();var e=(new Date).getTime();a.endTime=e-a.initTime;var i=a.eventType.complete;if(i&&i instanceof Array)for(var n=0;n<i.length;n++)i[n]&&i[n].call(a,"error",t.message,a.endTime);var o=a.eventType.error;if(o&&o instanceof Array)for(var n=0;n<o.length;n++)o[n]&&o[n].call(a,t.message,a.endTime)})},renderSvg:function(t,e,a,o,s,r,h){var c=this;return t.getOperatorList().then(function(h){var l=new i.SVGGraphics(t.commonObjs,t.objs);return l.getSVG(h,e).then(function(t){c.loadedCount++,s.children[0].style.display="none",s.appendChild(t),t.style.width="100%",t.style.height="100%",c.progress.css({width:o*c.loadedCount+"%"}),window.ActiveXObject||"ActiveXObject"in window||n(s).css({"min-height":n(t).height()+"px"});var e=(new Date).getTime(),i=c.eventType.render;if(i&&i instanceof Array)for(var h=0;h<i.length;h++)i[h]&&i[h].call(c,a,e-c.initTime,s);c.loadedCount===c.totalNum&&c.finalRender(r)})})},renderCanvas:function(t,e,i,a,o,s){var r=this,e=t.getViewport(s.scale),h=(r.docWidth/e.width).toFixed(2),c=document.createElement("canvas"),l={Cheight:e.height*h,width:e.width,height:e.height,canvas:c,index:r.loadedCount},d=c.getContext("2d");return c.height=e.height,c.width=e.width,r.progress.css({width:a*r.loadedCount+"%"}),l.src=l.canvas.toDataURL("image/jpeg"),t.render({canvasContext:d,viewport:e}).then(function(){r.loadedCount++;var t=new Image,e=(new Date).getTime(),a=0;a=0==r.renderTime?e-r.startTime:e-r.renderTime,l.src=l.canvas.toDataURL("image/jpeg"),t.src=l.src,o.appendChild(t),t.onload=function(){n(o).css({"min-height":t.height+"px"})};var e=(new Date).getTime(),h=r.eventType.render;if(h&&h instanceof Array)for(var c=0;c<h.length;c++)h[c]&&h[c].call(r,i,e-r.initTime,o);r.loadedCount===r.totalNum&&r.finalRender(s)})},finalRender:function(t){var e=(new Date).getTime(),i=this;i.progress.css({width:"100%"}),setTimeout(function(){i.loadingBar.hide()},300),i.endTime=e-i.initTime,"svg"===t.renderType&&(1!==i.totalNum?i.cache[i.totalNum-1+""].loaded=!0:i.cache[1].loaded=!0),t.zoomEnable?i.pinchZoom&&i.pinchZoom.enable():i.pinchZoom&&i.pinchZoom.disable();var n=i.eventType.complete;if(n&&n instanceof Array)for(var a=0;a<n.length;a++)n[a]&&n[a].call(i,"success","pdf加载完成",i.endTime);var o=i.eventType.success;if(o&&o instanceof Array)for(var a=0;a<o.length;a++)o[a]&&o[a].call(i,i.endTime)},resize:function(){var t=this;t.resizeEvent||(t.resizeEvent=!0,t.pages&&n(window).on("resize",function(){var e=n(window).width();t.winWidth===e||t.pages.each(function(t,e){var i=(n(e).width(),n(e).attr("data-scale"),n(e).find("svg").height());n(e).css({"min-height":i+"px"})})}))},show:function(t){this.container.show(),t&&t.call(this);var e=this.eventType.show;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this)},hide:function(t){this.container.hide(),t&&t.call(this);var e=this.eventType.hide;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this)},on:function(t,e){this.eventType[t]&&this.eventType[t]instanceof Array&&this.eventType[t].push(e),this.eventType[t]=[e]},off:function(t){if(void 0!==t)this.eventType[t]=[null];else for(var e in this.eventType)this.eventType[e]=[null]},scrollEnable:function(t){t===!1?this.viewerContainer.css({overflow:"hidden"}):this.viewerContainer.css({overflow:"auto"});var e=this.eventType.scrollEnable;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this,t)},zoomEnable:function(t){t===!1?this.pinchZoom.disable():this.pinchZoom.enable();var e=this.eventType.zoomEnable;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this,t)},reset:function(t){this.pinchZoom&&(this.pinchZoom.offset.y=0,this.pinchZoom.offset.x=0,this.pinchZoom.lastclientY=0,this.pinchZoom.zoomFactor=1,this.pinchZoom.update()),this.viewerContainer&&this.viewerContainer.scrollTop(0),t&&t.call(this);var e=this.eventType.reset;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this)},destroy:function(t){this.reset(),this.off(),this.thePDF&&(this.thePDF.destroy(),this.thePDF=null),this.viewerContainer&&(this.viewerContainer.remove(),this.viewerContainer=null),this.container&&this.container.html(""),this.totalNum=null,this.pages=null,this.initTime=0,this.endTime=0,this.viewer=null,this.pageNum=null,this.pageNow=null,this.pageTotal=null,this.loadingBar=null,this.progress=null,this.loadedCount=0,this.timer=null,this.show=null,this.hide=null,t&&t.call(this);var e=this.eventType.destroy;if(e&&e instanceof Array)for(var i=0;i<e.length;i++)e[i]&&e[i].call(this)}},r});